
# 一、原子层（Atomic Level）

## 1. 原子种类（初期核心元素）

建议首批支持：

* Hydrogen（H）
* Carbon（C）
* Nitrogen（N）
* Oxygen（O）

后期可扩展：

* Sulfur
* Phosphorus
* 卤素（F, Cl 等）
* 金属离子（Na⁺, Mg²⁺ 等）

---

## 2. 原子视觉大小（Van der Waals 半径）

游戏中原子“球体大小”建议基于**范德华半径**而不是共价半径（更直观）。

近似数值（Å）：

| 元素 | 范德华半径 |
| -- | ----- |
| H  | 1.20  |
| C  | 1.70  |
| N  | 1.55  |
| O  | 1.52  |

在游戏中应：

* 按比例缩放
* 保持视觉清晰（不要完全真实比例，否则氢会太小）

可以做两种模式：

* 教学真实比例
* 可玩性增强比例

---

## 3. 原子颜色（标准 CPK 颜色）

遵循 CPK 约定：

| 元素 | 颜色  |
| -- | --- |
| H  | 白色  |
| C  | 黑/灰 |
| N  | 蓝   |
| O  | 红   |
| S  | 黄   |

保持化学教育一致性非常重要。

---

# 二、价电子与成键规则（最核心逻辑）

## 1. 价电子数量

| 元素 | 价电子 | 常见价 |
| -- | --- | --- |
| H  | 1   | 1   |
| C  | 4   | 4   |
| N  | 5   | 3   |
| O  | 6   | 2   |

---

## 2. 八隅体规则（Octet Rule）

除了 H（2 电子规则）：

* 原子倾向于形成 8 个外层电子
* 这是你判断“能否连接”的基础算法

---

## 3. 键类型

你必须区分：

### 单键（σ 键）

* 最常见
* 允许旋转（除非受限）

### 双键（σ + π）

* 不允许自由旋转
* 改变几何构型

### 三键

* 线性结构
* 不可旋转

例如：

* C–C 单键
* C=C 双键
* C≡C 三键

---

## 4. 最大键数限制

系统必须限制非法情况，例如：

* C 不能形成 5 个单键
* O 不能有 3 个单键（除非带电）

这部分需要写成规则引擎。

---

# 三、空间几何结构（3D 的灵魂）

如果只是“拼数量”，那只是 2D。
真正的 3D 真实性来自 **VSEPR 理论**。

## 1. 电子对排斥理论（VSEPR）

核心思想：

> 电子对之间会相互排斥，尽可能远离。

---

## 2. 常见几何结构

### 四面体（109.5°）

例：Methane

* C 中心
* 4 单键
* 键角 109.5°

---

### 三角平面（120°）

例：Formaldehyde

* 双键结构
* 平面

---

### 线型（180°）

例：Carbon dioxide

* O=C=O
* 180°

---

### 三角锥（约107°）

例：Ammonia

* 有孤对电子

---

### 弯曲型（104.5°）

例：Water

---

## 3. 孤对电子

必须考虑：

* 不可见但影响几何
* 改变键角
* 影响极性

你可以：

* 教学模式显示孤对
* 游戏模式隐藏但影响结构

---

# 四、分子级别系统

## 1. 分子稳定性判断

你需要：

* 是否满足价电子规则
* 是否违反价数
* 是否存在过大角度扭曲

可加入“稳定度评分系统”。

---

## 2. 分子识别系统

当用户拼出：

* Water
* Methane
* Ammonia
* Carbon dioxide

系统自动识别并：

* 显示名称
* 显示分子式
* 显示结构式
* 提供小知识

---

## 3. 极性计算（进阶）

判断：

* 键极性（电负性差）
* 分子几何是否对称

例如：

* CO₂ 无极性
* H₂O 有极性

---

# 五、交互与物理引擎设计

## 1. 自动吸附机制

当两个原子靠近：

* 检测可用价电子
* 自动生成键
* 显示键线

---

## 2. 键角自动调整

当一个新键形成：

* 自动根据 VSEPR 调整角度
* 带物理动画

---

## 3. 键旋转

* 单键可拖动旋转
* 双键不可旋转

---

## 4. 键能系统（可选）

不同键能：

* C–H
* C–C
* C=O

可加入：

* 断键需要能量
* 加热模式

---

# 六、化学真实性的高级扩展

如果想做“专业级”：

---

## 1. 共振结构

例如：

* 硝酸根
* 苯环

需要电子离域系统。

---

## 2. 杂化轨道（sp, sp², sp³）

决定几何结构：

* sp → 线型
* sp² → 平面
* sp³ → 四面体

---

## 3. 形式电荷计算

用户可看到：

* 原子电荷
* 分子总电荷

---

## 4. 立体异构

例如：

* 手性碳
* 顺反异构

---

# 七、游戏化设计建议

## 1. 任务模式

* 拼出 H₂O
* 拼出 CH₄
* 拼出 C₂H₆
* 拼出酒精

---

## 2. 自由沙盒

无限拼接。

---

## 3. 分子稳定评分系统

根据：

* 满足八隅体
* 键角合理
* 无非法价

给星级。

---

# 八、你必须做的技术抽象（非常关键）

每个原子应有以下数据结构：

```
Atom {
  elementType
  valenceElectrons
  maxBonds
  covalentRadius
  vdwRadius
  electronegativity
  bondSlots[]
  lonePairs
}
```

Bond：

```
Bond {
  atomA
  atomB
  type (single/double/triple)
  bondLength
  bondEnergy
  rotatable (true/false)
}
```
